---
date: '2023-8-21'
---
# css(样式层叠表)
## 介绍css
> [MDN-CSS](https://developer.mozilla.org/zh-CN/docs/Web/CSS)

关于css,基础不用说,谁都会.但是如何要表现出一个好看的页面,只能多练,多看,多学习.  
css是一门很有意思的语言,它可以让你的页面变得丰富多彩,但是它也有很多的坑,比如说浏览器兼容性,比如说css的性能问题,比如说css的可维护性等等.
## css层叠冲突的计算过程
css的层叠冲突的计算过程是这样的:
1. 比较重要性
2. 比较特殊性
3. 比较源次序

### 1. 比较重要性
重要性从高到低:
1. 带有`!important`的作者属性
2. 带有`!important`的默认属性
3. 作者样式
4. 默认样式

```css{4}
/* 浏览器默认样式 */
h1{
    display: block;
    font-size: 2em;
    font-weight: bold;
}
```
```css{3}
/* 作者样式 */
h1{
    font-size: 24px; /* 最后应用的样式 */
}
```
很好理解,自己写的`!important`的优先级是最高的,然后才是浏览器的默认样式的`!important`样式.(一般也很少写`!important`)  
然后是自己写的样式,最后优先级最低是浏览器的默认样式.如果比较完这一步已经没有冲突的样式了,那么就不用比较后面的了.

### 2. 比较特殊性
| style | id | 属性 | 元素 |
| :---: | :---: | :---: | :---: |
| 内联：1; 否则：0 | id选择器的数量 | 属性、类、伪类的数量 | 元素、伪元素的数量 |

如下面的例子
```html{4,8,11,14-15}
<style>
    .red{
        color: red;
        font-size: 40px;
    }
    h1{
        color: red;
        font-size: 16px;
    }
    h1.test{
        font-size: 20px;
    }
    div h1.red{
        font-size: 3em;
        font-size: 30px;
    }
</style>
<div>
    <h1 class="red">学习css<h1>
</div>
```

从上到下一共四个css规则表达式,那么我们来看看这四个规则表达式的特殊性是多少.  
从上往下依次是(`.red`、`h1`、`h1.test`、`div h1.red`):  
| style | id | 属性 | 元素 |
| :---: | :---: | :---: | :---: |
|0|0|1|0|
|0|0|0|1|
|0|0|1|1|
|0|0|1|2|

::: tip 提示
tips: class选择器也是属性选择器的一种，不过比较特殊罢了。
:::

先比较第一列`style`，没有胜出者，全是0，则无人淘汰。  
比较第二列`id`，依旧没有胜出者，全是0，则无人淘汰。
再来比较第三列`属性`，我们可以看到第二个`h1`,再比较属性选择器时候，就它是0，第一个被淘汰掉
最后比较第四列元素选择器的数量，很明显可以看到第四个`div h1.red`的元素选择器数量最多，所以最后应用的样式是第四个`div h1.red`的样式.  
所以本次比较特殊性的获胜者是`div h1.red`。但是这个里面好像还有冲突？？接下来比较源次序。

### 3. 比较源次序
源次序就是指css的书写顺序，谁写在后面，谁的优先级就高。
```css{3}
    div h1.red{
        font-size: 3em;
        font-size: 30px;
    }
```
比较源次序的时候，我们可以看到`font-size: 3em;`写在前面，`font-size: 30px;`写在后面，所以最后应用的样式是`font-size: 30px;`。